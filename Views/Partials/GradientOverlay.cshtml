@* 
    Reusable Gradient Overlay Component
    Usage: 
    @{
        ViewData["Intensity"] = "strong";
        ViewData["Position"] = "bottom";
        ViewData["Color"] = "#8B1538";
    }
    @await Html.PartialAsync("Partials/GradientOverlay", null, ViewData)
    
    Parameters:
    - Intensity: "light", "medium", "strong" (default: "medium")
    - Position: "top", "bottom", "center", "full" (default: "bottom")
    - Color: Custom hex color (default: #8B1538)
*@
@{
    var intensity = ViewData["Intensity"]?.ToString() ?? "medium";
    var position = ViewData["Position"]?.ToString() ?? "bottom";
    var color = ViewData["Color"]?.ToString() ?? "#8B1538";
    
    // Convert hex to RGB for opacity
    var hex = color.Replace("#", "");
    var r = Convert.ToInt32(hex.Substring(0, 2), 16);
    var g = Convert.ToInt32(hex.Substring(2, 2), 16);
    var b = Convert.ToInt32(hex.Substring(4, 2), 16);
    
    // Intensity levels
    var opacityLevels = new Dictionary<string, (double from, double via, double to)>
    {
        { "light", (0.2, 0.1, 0.0) },
        { "medium", (0.5, 0.3, 0.0) },
        { "strong", (0.7, 0.4, 0.0) }
    };
    
    var (fromOpacity, viaOpacity, toOpacity) = opacityLevels.ContainsKey(intensity) 
        ? opacityLevels[intensity] 
        : opacityLevels["medium"];
    
    string gradientStyle = position switch
    {
        "top" => $"background: linear-gradient(to bottom, rgba({r},{g},{b},{fromOpacity}), rgba({r},{g},{b},{viaOpacity}), transparent);",
        "bottom" => $"background: linear-gradient(to top, rgba({r},{g},{b},{fromOpacity}), rgba({r},{g},{b},{viaOpacity}), transparent);",
        "center" => $"background: linear-gradient(to bottom, transparent, rgba({r},{g},{b},{viaOpacity}), transparent);",
        "full" => $"background: rgba({r},{g},{b},{fromOpacity});",
        _ => $"background: linear-gradient(to top, rgba({r},{g},{b},{fromOpacity}), rgba({r},{g},{b},{viaOpacity}), transparent);"
    };
}

<div class="absolute inset-0 transition-opacity duration-300" style="@gradientStyle"></div>
